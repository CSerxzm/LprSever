drop database if exists carmanage;
create database carmanage;
use carmanage;

#创建停车场parklot_inf
create table parklot_inf (
  id int(11),
  name varchar(50) not null comment '停车场名字',
  address varchar(150) default null comment '停车场地址',
  telephone varchar(11) not null comment '电话号码',
  activitynum int(11) default 50 comment '活动车位数',
  fixationnum int(11) default 50 comment '固定车位数',
  activitynum_leave int(11) default 50 comment '剩余活动车位数',
  fixationnum_leave int(11) default 50 comment '剩余固定车位数', 
  activitycost_per int(11) default 5 comment '活动车位元每时',  
  primary key (id)
) engine=innodb auto_increment=10 default charset=utf8;

insert into parklot_inf(id,name,address,telephone,activitynum,fixationnum,activitynum_leave,fixationnum_leave,activitycost_per) values(0,'神风停车场','安徽省合肥市包河区合肥工业大学','15284875380',20,50,20,30,3);


#创建停车位表parkspace_inf
create table parkspace_inf(
  id int(11) not null auto_increment comment '停车场标识',
  name varchar(50) default null comment '停车位别名',
  idle enum('是','否') default '是' comment '车位闲置',
  hire_start_date datetime default current_timestamp comment '租赁开始时间',
  hire_stop_date datetime default current_timestamp comment '租赁结束时间',
  rentornot enum("是","否") default '否' comment '车辆是否外租', 
  primary key (id)
) engine=innodb auto_increment=10 default charset=utf8;

insert into parkspace_inf(id,name,idle) values(1,'车位01号','是'),(2,'车位02号','是'),(3,'车位03号','是')
,(4,'车位04号','是'),(5,'车位05号','是'),(6,'车位06号','是'),(7,'车位07号','是')
,(8,'车位08号','是'),(9,'车位09号','是'),(10,'车位10号','是'),(11,'车位11号','是')
,(12,'车位12号','是'),(13,'车位13号','是'),(14,'车位14号','是');

create table rent_inf(
  parkspace_id int(11) not null comment '停车位标识',
  rent_start_date datetime comment '外租开始时间',
  rent_stop_date datetime comment '外租结束时间',  
  primary key (parkspace_id),
  constraint fk_rent_parkspace foreign key (parkspace_id) references parkspace_inf(id)
) engine=innodb auto_increment=10 default charset=utf8;


#创建用户表user_inf
create table user_inf (
  loginname varchar(18) not null comment '登录名',
  password varchar(18) not null comment '密码',
  parkspace_id  int(11) default null comment '绑定停车位标识',
  licenseplate  varchar(18) default null comment '绑定车牌号',
  telephone varchar(11) not null comment '电话号码',
  createdate datetime not null default current_timestamp comment '注册时间',
  authority enum('系统管理员','停车场管理员','用户'),
  primary key (loginname),
  constraint fk_parkspace_user foreign key (parkspace_id) references parkspace_inf(id)
) engine=innodb auto_increment=2 default charset=utf8;

insert into user_inf(loginname,password,telephone,authority,parkspace_id,licenseplate) values('user1','password','15284875382','用户',1,'川A00909'),('user2','password','15284875383','用户',2,'川HA3456');

insert into user_inf(loginname,password,telephone,authority) values('root','password','15284875380','系统管理员'),('admin','password','15284875381','停车场管理员');


#创建费用表chargeuser_inf
create table chargeuser_inf(
  id int(11) not null auto_increment comment '标识',
  date_pay datetime not null default current_timestamp comment '交易时间',
  name varchar(18) comment '缴费用户名',
  cost int(11) default 0 comment '费用(正为收入，负为支出,负表示用户所得)',
  primary key (id),
  constraint fk_parkspace_chargeuser foreign key (name) references user_inf(loginname)
) engine=innodb auto_increment=2 default charset=utf8;

#创建通行日志表trarecord_inf
create table trarecord_inf(
  id int(11) not null auto_increment,
  space_id int(11) comment '停车位标识',
  licenseplate varchar(18) not null,
  date_in datetime not null default current_timestamp,
  date_out datetime not null default current_timestamp,
  cost int(11) default 0 comment '默认费用',
  primary key (id),
  constraint fk_parkspace_trarecord foreign key (space_id) references parkspace_inf(id)
) engine=innodb auto_increment=2 default charset=utf8;

insert into trarecord_inf(id,space_id,licenseplate,date_in,date_out) values(0,1,'川HA3456','2019-12-15 16:5:55','2019-12-15 16:5:55');

#公告表
create table notice_inf (
  id int(11) not null auto_increment,
  title varchar(50) not null,
  content text not null,
  create_date datetime not null default current_timestamp,
  name_publish  varchar(18) not null,
  primary key (id),
  key fk_notice_user (name_publish),
  constraint fk_notice_user foreign key (name_publish) references user_inf(loginname)
) engine=innodb auto_increment=19 default charset=utf8;

INSERT INTO notice_inf VALUES (19,'四川省教育厅发现新大陆','<p>据新华网3月10日报道，四川新成立防疫大学，预计2080年建成，招生10000000万人</p>','2020-03-11 14:06:44','admin'),(20,'武汉必将再一次被载入英雄史册！','<p>习近考察武汉东湖新城社区微镜头</p><p>“武汉必将再一次被载入英雄史册！”</p><p>在武汉东湖新城社区，和习近平总书记面对面的，有社区工作者、基层民警、卫生服务站医生，还有下沉干部、志愿者。抗疫期间，社区居民缺米少油了、下水道堵了、垃圾箱满了……这些琐碎繁杂的大事小事，他们都得管。一个多月来，像他们这样的社区防控队伍，是武汉这座英雄城市一道独特的风景线。</p><p>这是习近平在东湖新城社区党群服务中心，同社区工作者、基层民警、卫生服务站医生、下沉干部、志愿者等亲切交流。 新华社记者 谢环驰 摄</p><p>下沉干部孔祥锋向总书记讲述了他的25天抗疫经历。过去坐办公室写材料，如今他每天忙着帮居民们买菜送菜、跑这跑那：“我对社区从陌生到熟悉，社区居民对我也从不理解、跟我吵到现在笑脸相迎。一句‘谢谢你，小伙子’，自己再苦再累也值得。”</p><p>大家都有很多话要说。有人谈到了最初的害怕和担忧，害怕被感染，担心居民群众不理解；也有人讲述了一个个感动和温暖的瞬间。一个多月来的经历，大家慢慢体会到，面对灾难，每一个人只要愿意发光，就是一束光，既照亮了邻里，也照亮了自己。</p><p>家住新城社区的90后志愿者谢小玉，在北京上大学，寒假回家遭遇封城。她想，与其在家呆着，不如报名当个志愿者，做点更有意义的事。面对总书记，她一点都不“青涩”，言语间飞扬着青春激情：“最初我们人手不足，有的居民是有些情绪，这也是我最难过的时候。但看到很多人都在为社区默默奉献，又鼓足了劲。送东西是个力气活，需要很有干劲才行。”</p><p><br/></p>','2020-03-11 14:07:32','root'),(24,'新冠病毒发源于哪国？外交部:不要对别国污名化','<p><span style=\"white-space: nowrap;\">我向大家通报一组数字：根据中国国家卫生健康委今天上午发布的统计数字，3月10日0-24时，中国境内新增治愈出院病例1578例，截至3月10日24时，中国境内累计治愈出院病例61475例。</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">问：新冠肺炎疫情正在全球多地快速蔓延。世卫组织总干事谭德塞表示，新冠肺炎成为全球性流行病的威胁已经非常现实。面对全球日益严峻的疫情态势，中方下步准备如何同国际社会加强合作应对疫情？</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">答：经过中国人民团结一心、艰苦努力，目前中国疫情防控形势发生积极向好变化，取得阶段性重要成果。与此同时，新冠肺炎疫情在全球多点暴发并呈现蔓延态势，部分国家疫情还比较严重。各国加强沟通协作，携手抗击疫情，共同维护地区和全球公共卫生安全的重要性和紧迫性进一步上升。中方愿在毫不放松继续做好本国疫情防控工作的同时，努力为全球的抗疫斗争做出贡献。</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">第一，同世卫组织和国际社会加强沟通协调。互通疫情信息是国际社会整体抗疫斗争的重要一环。疫情发生后，中方第一时间向世卫组织分享了病毒基因序列信息，及时向有关国家和地区通报疫情。我们将继续本着公开、透明及对全球公共卫生安全和人民健康高度负责的精神，及时向世卫组织和国际社会分享信息。同时加强同各方协调合作，推动地区和全球的联防联控，努力阻止疫情扩散蔓延。</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">第二，同世界各国开展抗疫经验分享和交流。目前中方已经发布了7版新冠肺炎诊疗方案、6版防控方案，这些方案源于中国，面向世界，已翻译成多语种同世界各国分享交流。迄今中方已与欧盟、东盟、非盟、加共体、上合组织、南太岛国及土库曼斯坦、阿塞拜疆、摩尔多瓦、格鲁吉亚等国举行视频会议，交流疫情防控和诊疗经验。我们将继续通过各种形式同有关国家和国际组织加强交流借鉴，共同提升维护地区和全球公共卫生安全的能力。</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">第三，向有需要的国家和地区派遣医疗专家团队。截至目前，中国红十字会已经向伊朗、伊拉克派遣专家团队，在当地密集开展工作，协助两国开展疫情防控，得到当地部门和百姓的一致好评。中方还正在准备向意大利派遣医疗专家团队支援当地疫情防控。我们将继续通过这种形式向有需要的国家提供支持和帮助。</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">第四，向国际社会提供药品等防疫物资援助。疫情无情人有情。中国政府向世界卫生组织捐款2000万美元，向有关国家捐赠口罩、药品、防护服等防疫物资，向一些国家出口急需的医疗物资和设备。中国地方政府和民间机构也纷纷向其他国家伸出援手。我们愿在全力抗击本国疫情的同时，克服自身困难，继续向有需要的国家提供力所能及的帮助。</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">第五，同国际社会加强科技合作。中方愿同有关国家在药物、疫苗、检测试剂等方面开展科技合作，为在全世界范围内早日战胜疫情贡献中国智慧和中国方案。</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">中方将通过以上五方面举措，助力全球抗疫斗争。我们将同国际社会一道，同舟共济，共克时艰，夺取全球抗击新冠肺炎疫情的最终胜利。</span></p>','2020-03-11 18:35:15','root'),(25,'马来西亚新增20例新冠肺炎确诊病例 累计确诊149例','<p>\r\n    当地时间11日下午，马来西亚卫生部宣布新增20例新冠肺炎确诊病例，累计确诊149例，治愈出院26例。\r\n</p>\r\n<p>\r\n    另外，马来西亚卫生总监努尔?希沙姆?阿卜杜拉发布的通告中说，针对文莱首例确诊病例患者曾到马来西亚吉隆坡出席某宗教活动一事，马当局已了解到该活动出席者多达1万人，当中有超过5000人为马来西亚人，目前卫生部门正努力调查他们的行踪。\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>','2020-03-11 18:37:14','admin');